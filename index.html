<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Peter Heesterman</title>


        <!--  Styling. -->
        <link rel="stylesheet" href="css/page.css" />
        <link rel="stylesheet" href="css/navigation.css" />


        <!--  Scripts. -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.0/react.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.0/react-dom.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.6.15/browser.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/0.3.2/marked.min.js"></script>
    </head>
    <body>
        <div class="page" id="content"></div>

        <script type="text/babel">
            var Page = React.createClass({
                getInitialState: function() {
                   return {
                       selectedDestination: "None"
                   };
                },
                onChangeDestination: function (newDestination) {
                    this.setState({selectedDestination: newDestination});
                },
                render: function() {

                    var isSideBarShowing = false;

                    var content;
                    switch (this.state.selectedDestination) {
                        case 'None':
                            content =   (<div className='beautiful'>
                                            <p>The world is wonderful, is it not?</p>
                                        </div>);
                            break;
                        case 'About':
                            content =   (<div className='beautiful'>
                                            <p>About</p>
                                        </div>);
                            break;
                        case 'Interests':
                            content =   (<div className='beautiful'>
                                            <p>Interests</p>
                                        </div>);
                            break;
                        case 'Projects':
                            content =   (<div className='beautiful'>
                                            <p>Projects</p>
                                        </div>);
                            break;
                        default:
                            break;
                    }


                    return (
                        <div class>
                            <Header
                                title='Peter Heesterman'
                                destinations={['About', 'Interests', 'Projects']}
                                onChangeDestination={this.onChangeDestination}
                            />
                            <div className='background'>
                                <SideBar
                                    isSideBarShowing={isSideBarShowing}
                                >

                                </SideBar>
                                <MainBar
                                    isSideBarShowing={isSideBarShowing}
                                >
                                    {content}
                                </MainBar>
                            </div>
                        </div>
                    );
                }
            });
            var Header = React.createClass({
                render: function() {

                    // Title
                    var classes = 'page-header-inner-title ' + (this.props.centerTitle ? 'center-text' : '');
                    var title = <div className={classes}>{this.props.title}</div>;

                    // Navigation bar
                    var navigationBar = <NavigationBar
                                            onChangeDestination={this.props.onChangeDestination}
                                            destinations={this.props.destinations}
                                        />;

                    return (
                        <div className='page-header'>
                            <div className='page-header-inner'>
                                <div className='portraitPhoto'></div>
                                {title}
                                {navigationBar}
                            </div>
                        </div>
                    );
                }
            });
            var NavigationBar = React.createClass({
                onChangeDestination: function(e) {
                    this.props.onChangeDestination(e.target.getAttribute('value'));
                },
                render: function() {

                    var destinations = this.props.destinations;
                    var self = this;
                    var navigationOptions = destinations.map(function (name) {
                        return (
                            <div className='navigation-bar-destination' onClick={self.onChangeDestination}>
                                <span value={name} className='navigation-bar-destination-label'>
                                    {name}
                                </span>
                            </div>
                        );
                    });

                    return (
                        <div className='navigation-bar'>
                                {navigationOptions}
                        </div>
                    );
                }
            });

            var SideBar = React.createClass({
                render: function() {

                    var classes = ['page-sidebar'];
                    classes.push(this.props.isSideBarShowing ? "" : "hidden");

                    return (
                        <div className={classes.join(' ')}>
                            {this.props.children}
                        </div>
                    );
                }
            });

            var MainBar = React.createClass({
                render: function() {

                    var classes = ['page-main'];
                    classes.push(this.props.isSideBarShowing ? "slim" : "wide");

                    return (
                        <div className={classes.join(' ')}>
                            {this.props.children}
                        </div>
                    );
                }
            });
            ReactDOM.render(
                <Page />,
                document.getElementById('content')
            );
        </script>
    </body>
</html>
